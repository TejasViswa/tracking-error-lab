[
  {
    "objectID": "technical_math.html",
    "href": "technical_math.html",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "",
    "text": "By Tejas Viswanath • November 1, 2025 •"
  },
  {
    "objectID": "technical_math.html#overview",
    "href": "technical_math.html#overview",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "Overview",
    "text": "Overview\nThis page provides advanced mathematical tools for tracking error analysis, building on the intuitive derivations from the previous pages. We cover:\n\nGeneral autocovariance aggregation formulas — for arbitrary serial correlation structures\nAR(1) closed-form solutions — explicit formulas for first-order autoregressive processes\nNewey-West estimation — robust long-run variance estimators for annualization\nPractical implementation — Python code for real-world applications\n\nPrerequisites: Familiarity with time series analysis, autocovariance functions, and the material in Intuitive Math."
  },
  {
    "objectID": "technical_math.html#notation-and-definitions",
    "href": "technical_math.html#notation-and-definitions",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "1. Notation and Definitions",
    "text": "1. Notation and Definitions\n\n1.1 Active returns\nLet \\(a_t = r_{P,t} - r_{B,t}\\) denote the active return at time \\(t\\), for \\(t=1,\\ldots,T\\).\nWhere:\n\n\\(r_{P,t}\\) = portfolio return at time \\(t\\)\n\\(r_{B,t}\\) = benchmark return at time \\(t\\)\n\\(T\\) = total number of observations\n\n\n\n1.2 Sample statistics\nSample mean: \\[\n\\bar{a} = \\frac{1}{T}\\sum_{t=1}^{T} a_t\n\\]\nSample variance: \\[\n\\widehat{\\mathrm{Var}}(a) = \\frac{1}{T-1}\\sum_{t=1}^{T}(a_t - \\bar{a})^2\n\\]\nPeriod tracking error: \\[\nTE_{\\text{period}} = \\sqrt{\\widehat{\\mathrm{Var}}(a)}\n\\]\n\n\n1.3 Autocovariance function\nThe lag-h autocovariance is defined as: \\[\n\\gamma(h) = \\mathrm{Cov}(a_t, a_{t+h}) = \\mathbb{E}[(a_t - \\mu)(a_{t+h} - \\mu)]\n\\]\nwhere \\(\\mu = \\mathbb{E}[a_t]\\) is the population mean.\nNotation note: We use \\(\\gamma(h)\\) here (function notation), which is equivalent to \\(\\gamma_h\\) or \\(\\gamma_k\\) used in previous pages (subscript notation). These all refer to the lag-h autocovariance.\nKey properties:\n\n\\(\\gamma(0)\\) = variance of \\(a_t\\)\n\\(\\gamma(-h) = \\gamma(h)\\) (symmetry)\n\\(\\gamma(h) \\to 0\\) as \\(h \\to \\infty\\) for stationary processes"
  },
  {
    "objectID": "technical_math.html#general-aggregation-formula",
    "href": "technical_math.html#general-aggregation-formula",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "2. General Aggregation Formula",
    "text": "2. General Aggregation Formula\n\n2.1 Variance of a sum with arbitrary autocovariance\nFor any stationary process, the variance of a sum of \\(m\\) consecutive observations is:\n\\[\n\\mathrm{Var}\\!\\left(\\sum_{i=1}^{m}a_i\\right)\n= \\sum_{h=-(m-1)}^{m-1}(m-|h|)\\gamma(h)\n\\]\nUsing symmetry \\(\\gamma(-h) = \\gamma(h)\\), this simplifies to:\n\\[\n\\mathrm{Var}\\!\\left(\\sum_{i=1}^{m}a_i\\right)\n= m\\gamma(0) + 2\\sum_{h=1}^{m-1}(m-h)\\gamma(h)\n\\]\n\n\n2.2 Interpretation\nFirst term: \\(m\\gamma(0)\\) — the variance contribution if observations were independent\nSecond term: \\(2\\sum_{h=1}^{m-1}(m-h)\\gamma(h)\\) — adjustment for serial correlation\n\nIf \\(\\gamma(h) &gt; 0\\) (positive autocorrelation), the sum variance increases\nIf \\(\\gamma(h) &lt; 0\\) (negative autocorrelation), the sum variance decreases\nIf \\(\\gamma(h) = 0\\) (no autocorrelation), we recover \\(\\mathrm{Var}(\\sum a_i) = m\\gamma(0)\\)\n\n\n\n2.3 Connection to previous derivation\nThis is the general form of the equation from the Intuitive Math page, where we had: \\[\n\\mathrm{Var}(A_m) = D\\,\\sigma_d^2 + 2\\sum_{k=1}^{D-1}(D-k)\\,\\gamma_k\n\\]\nHere, \\(\\gamma(0) = \\sigma_d^2\\) and \\(\\gamma(h) = \\gamma_h\\)."
  },
  {
    "objectID": "technical_math.html#annualization-with-serial-correlation",
    "href": "technical_math.html#annualization-with-serial-correlation",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "3. Annualization with Serial Correlation",
    "text": "3. Annualization with Serial Correlation\n\n3.1 True annual variance\nFor a year with \\(N\\) base periods (e.g., \\(N=252\\) trading days or \\(N=12\\) months), the annual active return is: \\[\nA = \\sum_{t=1}^{N} a_t\n\\]\nIts variance is: \\[\n\\mathrm{Var}(A) = N\\gamma(0) + 2\\sum_{h=1}^{N-1}(N-h)\\gamma(h)\n\\]\n\n\n3.2 True annual tracking error\nThe exact annualized tracking error is: \\[\nTE_{\\text{annual,true}} = \\sqrt{N\\gamma(0) + 2\\sum_{h=1}^{N-1}(N-h)\\gamma(h)}\n\\]\nNot simply \\(TE_{\\text{period}} \\times \\sqrt{N}\\) unless \\(\\gamma(h) = 0\\) for all \\(h &gt; 0\\).\n\n\n3.3 Comparison with naive scaling\nThe naive scaling (square-root-of-time rule) assumes: \\[\nTE_{\\text{annual,naive}} = TE_{\\text{period}} \\times \\sqrt{N} = \\sqrt{N\\gamma(0)}\n\\]\nThe ratio of true to naive annualized TE is: \\[\n\\frac{TE_{\\text{annual,true}}}{TE_{\\text{annual,naive}}}\n= \\sqrt{1 + \\frac{2}{N\\gamma(0)}\\sum_{h=1}^{N-1}(N-h)\\gamma(h)}\n\\]\n\nRatio &gt; 1 → serial correlation amplifies annualized TE\nRatio &lt; 1 → serial correlation dampens annualized TE\nRatio = 1 → no serial correlation (naive scaling is correct)"
  },
  {
    "objectID": "technical_math.html#ar1-closed-form-solution",
    "href": "technical_math.html#ar1-closed-form-solution",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "4. AR(1) Closed-Form Solution",
    "text": "4. AR(1) Closed-Form Solution\n\n4.1 Model specification\nAssume active returns follow a first-order autoregressive process: \\[\na_t = \\phi a_{t-1} + \\varepsilon_t\n\\]\nwhere:\n\n\\(\\varepsilon_t \\sim \\mathcal{N}(0, \\sigma_\\varepsilon^2)\\) are i.i.d. innovations\n\\(|\\phi| &lt; 1\\) ensures stationarity\n\\(\\phi &gt; 0\\) → persistence (momentum)\n\\(\\phi &lt; 0\\) → mean reversion\n\\(\\phi = 0\\) → white noise\n\n\n\n4.2 Autocovariance structure\nFor a stationary AR(1) process:\nVariance (lag-0): \\[\n\\gamma(0) = \\frac{\\sigma_\\varepsilon^2}{1 - \\phi^2}\n\\]\nLag-h autocovariance: \\[\n\\gamma(h) = \\gamma(0) \\phi^{|h|}\n\\]\nAutocorrelation: \\[\n\\rho(h) = \\frac{\\gamma(h)}{\\gamma(0)} = \\phi^{|h|}\n\\]\nThis shows exponential decay (or growth if \\(\\phi &lt; 0\\)) of correlations with lag.\n\n\n4.3 Variance of m-period sum\nSubstituting the AR(1) autocovariance structure into the general formula: \\[\n\\mathrm{Var}(S_m) = \\mathrm{Var}\\!\\left(\\sum_{i=1}^{m}a_i\\right)\n= \\gamma(0)\\left[m + 2\\sum_{h=1}^{m-1}(m-h)\\phi^h\\right]\n\\]\n\n\n4.4 Closed-form sum identity\nThe weighted sum of geometric terms can be evaluated exactly: \\[\n\\sum_{h=1}^{m-1}(m-h)\\phi^h\n= m\\frac{\\phi - \\phi^m}{1 - \\phi}\n- \\frac{\\phi(1 - m\\phi^{m-1} + (m-1)\\phi^m)}{(1-\\phi)^2}\n\\]\nDerivation sketch:\n\nStart with \\(\\sum_{h=1}^{m-1}(m-h)\\phi^h = m\\sum_{h=1}^{m-1}\\phi^h - \\sum_{h=1}^{m-1}h\\phi^h\\)\nUse \\(\\sum_{h=1}^{m-1}\\phi^h = \\frac{\\phi(1-\\phi^{m-1})}{1-\\phi}\\) (geometric series)\nUse \\(\\sum_{h=1}^{m-1}h\\phi^h = \\frac{\\phi(1-(m-1)\\phi^{m-1}+m\\phi^{m})}{(1-\\phi)^2}\\) (differentiate geometric series)\nCombine and simplify\n\n\n\n4.5 m-period tracking error for AR(1)\nCombining the results: \\[\nTE_{m}^{\\text{AR(1)}} = \\sqrt{\\gamma(0)\\left[m + 2\\left(m\\frac{\\phi - \\phi^m}{1 - \\phi}\n- \\frac{\\phi(1 - m\\phi^{m-1} + (m-1)\\phi^m)}{(1-\\phi)^2}\\right)\\right]}\n\\]\nThis provides an exact, closed-form solution for tracking error at any horizon \\(m\\) given parameters \\((\\phi, \\sigma_\\varepsilon)\\)."
  },
  {
    "objectID": "technical_math.html#newey-west-robust-estimation",
    "href": "technical_math.html#newey-west-robust-estimation",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "5. Newey-West Robust Estimation",
    "text": "5. Newey-West Robust Estimation\n\n5.1 Motivation\nIn practice, we don’t know the true autocovariance function \\(\\gamma(h)\\). We must estimate it from data. The Newey-West estimator provides a robust, heteroskedasticity- and autocorrelation-consistent (HAC) estimate of the long-run variance.\n\n\n5.2 Long-run variance estimator\nThe Newey-West long-run variance is: \\[\n\\widehat{\\sigma}_{\\text{LR}}^2\n= \\hat{\\gamma}(0) + 2\\sum_{h=1}^{L}\\left(1 - \\frac{h}{L+1}\\right)\\hat{\\gamma}(h)\n\\]\nwhere: - \\(\\hat{\\gamma}(h)\\) = sample autocovariance at lag \\(h\\) - \\(L\\) = bandwidth (lag truncation parameter) - Weights \\(w(h) = 1 - \\frac{h}{L+1}\\) are the Bartlett kernel weights, which decay linearly\n\n\n5.3 Sample autocovariance\n\\[\n\\hat{\\gamma}(h) = \\frac{1}{T}\\sum_{t=1}^{T-h}(a_t - \\bar{a})(a_{t+h} - \\bar{a})\n\\]\n\n\n5.4 Bandwidth selection\nCommon rules of thumb:\n\nAndrews (1991): \\(L \\approx \\lfloor 4(T/100)^{2/9} \\rfloor\\) for AR(1) processes\nNewey-West (1994): \\(L \\approx \\lfloor 4(T/100)^{1/4} \\rfloor\\) for general processes\nRule of thumb: \\(L \\approx T^{1/3}\\)\n\nFor daily data with \\(T=252\\), typical choices: \\(L \\in [6, 10]\\)\n\n\n5.5 Annualized tracking error (Newey-West)\n\\[\n\\widehat{TE}_{\\text{annual,NW}} = \\sqrt{N \\cdot \\widehat{\\sigma}_{\\text{LR}}^2}\n\\]\nwhere \\(N\\) is the number of base periods per year.\nAdvantages:\n\nRobust to model misspecification\nConsistent even with unknown autocorrelation structure\nStandard in econometrics and finance\n\nDisadvantages:\n\nRequires choice of bandwidth \\(L\\)\nLess efficient than parametric methods (e.g., AR(1)) if model is correct"
  },
  {
    "objectID": "technical_math.html#implementation-ar1-helper-functions",
    "href": "technical_math.html#implementation-ar1-helper-functions",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "6. Implementation: AR(1) Helper Functions",
    "text": "6. Implementation: AR(1) Helper Functions\n\n6.1 Exact AR(1) tracking error\n\n\nCode\nimport numpy as np\n\ndef te_m_ar1(phi, sigma_eps, m):\n    \"\"\"\n    Compute m-period tracking error for AR(1) process.\n    \n    Parameters:\n    -----------\n    phi : float\n        AR(1) coefficient, |phi| &lt; 1\n    sigma_eps : float\n        Standard deviation of innovations\n    m : int\n        Number of periods to aggregate\n    \n    Returns:\n    --------\n    float\n        m-period tracking error\n    \"\"\"\n    # Stationary variance\n    gamma0 = sigma_eps**2 / (1 - phi**2)\n    \n    # Sum of weighted autocovariances\n    if np.abs(phi) &lt; 1e-10:\n        # phi ≈ 0 (white noise case)\n        num = 0\n    else:\n        term1 = m * (phi - phi**m) / (1 - phi)\n        term2 = phi * (1 - m*phi**(m-1) + (m-1)*phi**m) / (1 - phi)**2\n        num = term1 - term2\n    \n    var_sm = gamma0 * (m + 2*num)\n    return np.sqrt(var_sm)\n\n\ndef ar1_parameters_from_data(returns):\n    \"\"\"\n    Estimate AR(1) parameters from data using OLS.\n    \n    Parameters:\n    -----------\n    returns : array-like\n        Time series of active returns\n    \n    Returns:\n    --------\n    phi : float\n        AR(1) coefficient\n    sigma_eps : float\n        Innovation standard deviation\n    \"\"\"\n    returns = np.asarray(returns)\n    y = returns[1:]\n    x = returns[:-1]\n    \n    # OLS estimate of phi\n    phi_hat = np.sum(x * y) / np.sum(x * x)\n    \n    # Residuals\n    resid = y - phi_hat * x\n    sigma_eps_hat = np.std(resid, ddof=1)\n    \n    return phi_hat, sigma_eps_hat\n\n\n\n\n6.2 Example: Computing multi-horizon TE under AR(1)\n\n\nCode\n# Example parameters\nphi = 0.3           # Moderate positive autocorrelation\nsigma_eps = 0.01    # 1% daily innovation volatility\n\n# Compute TE at different horizons\nte_daily = te_m_ar1(phi, sigma_eps, m=1)\nte_weekly = te_m_ar1(phi, sigma_eps, m=5)\nte_monthly = te_m_ar1(phi, sigma_eps, m=21)\nte_quarterly = te_m_ar1(phi, sigma_eps, m=63)\nte_annual = te_m_ar1(phi, sigma_eps, m=252)\n\nprint(\"=\" * 60)\nprint(\"Multi-Horizon Tracking Error (AR(1) with φ=0.3)\")\nprint(\"=\" * 60)\nprint(f\"Daily:       {te_daily:.4f}  ({te_daily*100:.2f}%)\")\nprint(f\"Weekly:      {te_weekly:.4f}  ({te_weekly*100:.2f}%)\")\nprint(f\"Monthly:     {te_monthly:.4f}  ({te_monthly*100:.2f}%)\")\nprint(f\"Quarterly:   {te_quarterly:.4f}  ({te_quarterly*100:.2f}%)\")\nprint(f\"Annual:      {te_annual:.4f}  ({te_annual*100:.2f}%)\")\nprint(\"=\" * 60)\n\n# Compare with naive scaling\nte_annual_naive = te_daily * np.sqrt(252)\nratio = te_annual / te_annual_naive\n\nprint(f\"\\nNaive annual TE (√252 scaling): {te_annual_naive:.4f}\")\nprint(f\"True annual TE (AR(1) formula):  {te_annual:.4f}\")\nprint(f\"Ratio (True/Naive):              {ratio:.4f}\")\nprint(f\"→ Positive autocorrelation amplifies TE by {(ratio-1)*100:.1f}%\")\n\n\n============================================================\nMulti-Horizon Tracking Error (AR(1) with φ=0.3)\n============================================================\nDaily:       0.0105  (1.05%)\nWeekly:      0.0298  (2.98%)\nMonthly:     0.0644  (6.44%)\nQuarterly:   0.1128  (11.28%)\nAnnual:      0.2265  (22.65%)\n============================================================\n\nNaive annual TE (√252 scaling): 0.1664\nTrue annual TE (AR(1) formula):  0.2265\nRatio (True/Naive):              1.3610\n→ Positive autocorrelation amplifies TE by 36.1%"
  },
  {
    "objectID": "technical_math.html#newey-west-implementation",
    "href": "technical_math.html#newey-west-implementation",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "7. Newey-West Implementation",
    "text": "7. Newey-West Implementation\n\n\nCode\ndef newey_west_variance(returns, lags=None):\n    \"\"\"\n    Compute Newey-West long-run variance estimator.\n    \n    Parameters:\n    -----------\n    returns : array-like\n        Time series of active returns\n    lags : int, optional\n        Number of lags for autocovariance estimation.\n        If None, uses rule of thumb: floor(T^(1/3))\n    \n    Returns:\n    --------\n    float\n        Long-run variance estimate\n    \"\"\"\n    returns = np.asarray(returns)\n    T = len(returns)\n    \n    if lags is None:\n        lags = int(np.floor(T**(1/3)))\n    \n    # Demean\n    returns_dm = returns - np.mean(returns)\n    \n    # Sample variance (lag-0)\n    gamma0 = np.mean(returns_dm**2)\n    \n    # Sum of weighted autocovariances\n    acov_sum = 0.0\n    for h in range(1, lags + 1):\n        # Sample autocovariance at lag h\n        gammah = np.mean(returns_dm[:-h] * returns_dm[h:])\n        \n        # Bartlett weight\n        weight = 1 - h / (lags + 1)\n        \n        acov_sum += weight * gammah\n    \n    # Long-run variance\n    sigma_lr_sq = gamma0 + 2 * acov_sum\n    \n    return sigma_lr_sq\n\n\ndef te_annualized_nw(returns, periods_per_year=252, lags=None):\n    \"\"\"\n    Compute annualized tracking error using Newey-West estimator.\n    \n    Parameters:\n    -----------\n    returns : array-like\n        Time series of active returns\n    periods_per_year : int\n        Number of base periods per year (252 for daily, 12 for monthly)\n    lags : int, optional\n        Bandwidth for Newey-West estimator\n    \n    Returns:\n    --------\n    float\n        Annualized tracking error\n    \"\"\"\n    sigma_lr_sq = newey_west_variance(returns, lags)\n    te_annual = np.sqrt(periods_per_year * sigma_lr_sq)\n    return te_annual\n\n\n# Example with simulated AR(1) data\nnp.random.seed(42)\nT = 252\nphi_true = 0.4\nsigma_eps_true = 0.01\n\n# Simulate AR(1) process\na = np.zeros(T)\neps = np.random.normal(0, sigma_eps_true, T)\nfor t in range(1, T):\n    a[t] = phi_true * a[t-1] + eps[t]\n\n# Compute annualized TE different ways\nte_naive = np.std(a) * np.sqrt(252)\nte_nw = te_annualized_nw(a, periods_per_year=252)\n\n# Estimate AR(1) and compute exact\nphi_hat, sigma_eps_hat = ar1_parameters_from_data(a)\nte_ar1 = te_m_ar1(phi_hat, sigma_eps_hat, m=252)\n\nprint(\"\\n\" + \"=\" * 60)\nprint(\"Annualized TE Comparison (Simulated AR(1) data, φ=0.4)\")\nprint(\"=\" * 60)\nprint(f\"Naive (√252 scaling):        {te_naive:.4f}\")\nprint(f\"Newey-West estimator:        {te_nw:.4f}\")\nprint(f\"AR(1) closed-form:           {te_ar1:.4f}\")\nprint(f\"Estimated φ:                 {phi_hat:.4f}\")\nprint(\"=\" * 60)\n\n\n\n============================================================\nAnnualized TE Comparison (Simulated AR(1) data, φ=0.4)\n============================================================\nNaive (√252 scaling):        0.1624\nNewey-West estimator:        0.2181\nAR(1) closed-form:           0.2315\nEstimated φ:                 0.3382\n============================================================"
  },
  {
    "objectID": "technical_math.html#practical-guidance-and-interpretation",
    "href": "technical_math.html#practical-guidance-and-interpretation",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "8. Practical Guidance and Interpretation",
    "text": "8. Practical Guidance and Interpretation\n\n8.1 When to use each method\n\n\n\n\n\n\n\n\n\nMethod\nWhen to use\nPros\nCons\n\n\n\n\nNaive scaling (\\(\\sqrt{N}\\))\nNo serial correlation detected\nSimple, transparent\nBiased if autocorrelation exists\n\n\nAR(1) closed-form\nData fits AR(1) well, small samples\nEfficient, exact\nMisspecified if not AR(1)\n\n\nNewey-West\nUnknown autocorrelation structure, large samples\nRobust, model-free\nRequires bandwidth choice, less efficient\n\n\n\n\n\n8.2 Interpreting φ values\n\n\n\n\n\n\n\n\nφ range\nInterpretation\nTE scaling\n\n\n\n\n\\(\\phi \\approx 0\\)\nNo serial correlation, white noise\nNaive \\(\\sqrt{N}\\) scaling works\n\n\n\\(0 &lt; \\phi &lt; 0.5\\)\nMild momentum, moderate persistence\nAnnual TE 5-15% higher than naive\n\n\n\\(0.5 \\leq \\phi &lt; 1\\)\nStrong momentum, high persistence\nAnnual TE 15-50%+ higher than naive\n\n\n\\(-0.5 &lt; \\phi &lt; 0\\)\nMild mean reversion\nAnnual TE 5-15% lower than naive\n\n\n\\(-1 &lt; \\phi \\leq -0.5\\)\nStrong mean reversion\nAnnual TE 15-40% lower than naive\n\n\n\n\n\n8.3 Empirical findings in equity portfolios\nBased on academic literature and industry practice:\n\nMomentum/Growth tilts: \\(\\phi \\in [0.2, 0.5]\\) (positive persistence)\nValue tilts: \\(\\phi \\in [-0.1, 0.1]\\) (near random walk)\nHigh-frequency trading: \\(\\phi \\in [-0.3, 0]\\) (mean reversion)\nESG screens: \\(\\phi \\in [0, 0.2]\\) (mild persistence)\n\n\n\n8.4 Reporting best practices\nWhen reporting tracking error, always specify:\n\nData frequency: Daily, weekly, monthly?\nSample period: What date range?\nAnnualization method: Naive, AR(1), Newey-West?\nLag structure: If using Newey-West, what bandwidth?\nAssumptions: Any filters, outlier treatment, etc.?\n\nExample: &gt; “Daily tracking error over the past 12 months was 0.81%, corresponding to an annualized TE of 12.9% using Newey-West estimation with 8 lags. Estimated AR(1) coefficient: φ=0.28, indicating mild positive autocorrelation.”"
  },
  {
    "objectID": "technical_math.html#worked-example-comparing-methods",
    "href": "technical_math.html#worked-example-comparing-methods",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "9. Worked Example: Comparing Methods",
    "text": "9. Worked Example: Comparing Methods\nLet’s work through a complete example comparing all three methods.\n\n\nCode\n# Generate realistic monthly active returns\nnp.random.seed(123)\nn_months = 60  # 5 years of monthly data\n\n# Simulate AR(1) process with moderate persistence\nphi = 0.35\nsigma_eps = 0.015  # 1.5% monthly innovation vol\na_monthly = np.zeros(n_months)\neps = np.random.normal(0, sigma_eps, n_months)\nfor t in range(1, n_months):\n    a_monthly[t] = phi * a_monthly[t-1] + eps[t]\n\n# Method 1: Naive scaling\nte_monthly_naive = np.std(a_monthly, ddof=1)\nte_annual_naive = te_monthly_naive * np.sqrt(12)\n\n# Method 2: AR(1) parametric\nphi_est, sigma_eps_est = ar1_parameters_from_data(a_monthly)\nte_annual_ar1 = te_m_ar1(phi_est, sigma_eps_est, m=12)\n\n# Method 3: Newey-West\nlags_nw = int(np.floor(n_months**(1/3)))  # ≈ 4 lags\nte_annual_nw = te_annualized_nw(a_monthly, periods_per_year=12, lags=lags_nw)\n\n# Display results\nprint(\"\\n\" + \"=\" * 70)\nprint(\"Worked Example: 60 Months of Active Returns\")\nprint(\"=\" * 70)\nprint(f\"True AR(1) parameters:     φ = {phi:.3f}, σ_ε = {sigma_eps:.4f}\")\nprint(f\"Estimated parameters:      φ̂ = {phi_est:.3f}, σ̂_ε = {sigma_eps_est:.4f}\")\nprint(\"-\" * 70)\nprint(f\"Monthly TE (sample):       {te_monthly_naive:.4f}  ({te_monthly_naive*100:.2f}%)\")\nprint(\"-\" * 70)\nprint(\"ANNUALIZED TRACKING ERROR:\")\nprint(f\"  1. Naive (√12 scaling):  {te_annual_naive:.4f}  ({te_annual_naive*100:.2f}%)\")\nprint(f\"  2. AR(1) closed-form:    {te_annual_ar1:.4f}  ({te_annual_ar1*100:.2f}%)\")\nprint(f\"  3. Newey-West (L={lags_nw}):    {te_annual_nw:.4f}  ({te_annual_nw*100:.2f}%)\")\nprint(\"-\" * 70)\nprint(f\"Ratio (AR(1)/Naive):       {te_annual_ar1/te_annual_naive:.4f}\")\nprint(f\"Ratio (NW/Naive):          {te_annual_nw/te_annual_naive:.4f}\")\nprint(\"-\" * 70)\nprint(f\"Interpretation: Positive autocorrelation (φ̂={phi_est:.2f}) causes\")\nprint(f\"annualized TE to be ~{(te_annual_ar1/te_annual_naive - 1)*100:.1f}% higher than naive scaling predicts.\")\nprint(\"=\" * 70)\n\n\n\n======================================================================\nWorked Example: 60 Months of Active Returns\n======================================================================\nTrue AR(1) parameters:     φ = 0.350, σ_ε = 0.0150\nEstimated parameters:      φ̂ = 0.495, σ̂_ε = 0.0178\n----------------------------------------------------------------------\nMonthly TE (sample):       0.0201  (2.01%)\n----------------------------------------------------------------------\nANNUALIZED TRACKING ERROR:\n  1. Naive (√12 scaling):  0.0698  (6.98%)\n  2. AR(1) closed-form:    0.1152  (11.52%)\n  3. Newey-West (L=3):    0.1015  (10.15%)\n----------------------------------------------------------------------\nRatio (AR(1)/Naive):       1.6518\nRatio (NW/Naive):          1.4546\n----------------------------------------------------------------------\nInterpretation: Positive autocorrelation (φ̂=0.49) causes\nannualized TE to be ~65.2% higher than naive scaling predicts.\n======================================================================"
  },
  {
    "objectID": "technical_math.html#connection-to-previous-pages",
    "href": "technical_math.html#connection-to-previous-pages",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "10. Connection to Previous Pages",
    "text": "10. Connection to Previous Pages\nThis page extends the framework developed in earlier sections:\n\nFrom Overview (Index)\n\nIntuition: Persistent drift vs mean reversion\nPractical implications: Why TE scaling matters for risk management\nEconomic drivers: Sector momentum, factor persistence\n\n\n\nFrom Intuitive Math (Full Derivation)\n\nVariance-of-a-sum formula: \\(\\mathrm{Var}(A_m) = D\\sigma_d^2 + 2\\sum(D-k)\\gamma_k\\)\nMonthly/daily TE ratio: Depends on \\(\\sum(D-k)\\gamma_k\\)\nInterpretation: Autocovariance determines TE scaling\n\n\n\nAdvanced topics (this page)\n\nAR(1) parameterization: Explicitly model \\(\\gamma_k = \\gamma(0)\\phi^k\\)\nClosed-form solutions: Exact formulas for any horizon\nRobust estimation: Newey-West for unknown autocorrelation structure"
  },
  {
    "objectID": "technical_math.html#key-takeaways",
    "href": "technical_math.html#key-takeaways",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "11. Key Takeaways",
    "text": "11. Key Takeaways\n\nGeneral aggregation formula works for any autocovariance structure: \\(\\mathrm{Var}(\\sum a_i) = m\\gamma(0) + 2\\sum_{h=1}^{m-1}(m-h)\\gamma(h)\\)\nAR(1) processes provide tractable, closed-form solutions for multi-horizon TE with exponentially decaying autocorrelations.\nNewey-West estimator offers a robust, model-free approach to annualization that handles unknown autocorrelation structures.\nNaive √N scaling is only correct when \\(\\gamma(h)=0\\) for all \\(h&gt;0\\); otherwise it systematically biases TE estimates.\nPositive φ (momentum) → annual TE higher than naive scaling predicts; negative φ (mean reversion) → annual TE lower.\nBest practice: Always report estimation method and test for serial correlation before annualizing."
  },
  {
    "objectID": "technical_math.html#references-and-further-reading",
    "href": "technical_math.html#references-and-further-reading",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "12. References and Further Reading",
    "text": "12. References and Further Reading\n\nAcademic papers\n\nGrinold, R. C., & Kahn, R. N. (2000). Active Portfolio Management: A Quantitative Approach for Producing Superior Returns and Controlling Risk (2nd ed.). McGraw-Hill.\nNewey, W. K., & West, K. D. (1987). “A Simple, Positive Semi-Definite, Heteroskedasticity and Autocorrelation Consistent Covariance Matrix.” Econometrica, 55(3), 703-708.\nAndrews, D. W. K. (1991). “Heteroskedasticity and Autocorrelation Consistent Covariance Matrix Estimation.” Econometrica, 59(3), 817-858.\nLo, A. W. (2002). “The Statistics of Sharpe Ratios.” Financial Analysts Journal, 58(4), 36-52.\n\n\n\nIndustry resources\n\nCFA Institute curriculum: Active Risk and Tracking Error\nGIPS (Global Investment Performance Standards) guidelines on TE calculation\nRisk management frameworks from major asset managers"
  },
  {
    "objectID": "technical_math.html#navigation-resources",
    "href": "technical_math.html#navigation-resources",
    "title": "Advanced Topics: AR(1) Processes, Newey-West Estimation, and Consistent Annualization",
    "section": "13. Navigation & Resources",
    "text": "13. Navigation & Resources\n\nContinue Learning:\n← Overview: Tracking Error Across Time Horizons\nReturn to the intuitive overview with practical examples and real-world portfolio implications.\n← Intuitive Math: Complete Derivation\nReview the step-by-step mathematical derivation with detailed explanations.\n\n\nExternal Resources:\n\nInteractive App: Tracking Error Lab on Streamlit\nGitHub Repository: TejasViswa/tracking-error-lab\n\n\n\nSuggested Learning Path:\n\nOverview — Start here for intuition and practical implications\nIntuitive Math — Complete derivation of variance-of-a-sum formula\nTechnical Math — Advanced tools: AR(1) models, Newey-West estimation, closed-form solutions\nInteractive App — Experiment with your own data"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Tracking Error Across Time Horizons",
    "section": "",
    "text": "By Tejas Viswanath • November 1, 2025 •"
  },
  {
    "objectID": "index.html#the-problem-annualized-tracking-error-inconsistencies",
    "href": "index.html#the-problem-annualized-tracking-error-inconsistencies",
    "title": "Tracking Error Across Time Horizons",
    "section": "The Problem: Annualized Tracking Error Inconsistencies",
    "text": "The Problem: Annualized Tracking Error Inconsistencies\nPortfolio managers and risk professionals routinely calculate tracking error (TE) — the standard deviation of active returns (portfolio minus benchmark). A common challenge arises when comparing annualized tracking error across different measurement frequencies:\nThe Issue: - You calculate daily TE and annualize it: \\(TE_{\\text{daily}} \\times \\sqrt{252} = 8.5\\%\\) - You calculate monthly TE and annualize it: \\(TE_{\\text{monthly}} \\times \\sqrt{12} = 10.1\\%\\) - Both are “annualized,” yet they differ by 19%\nThis isn’t a calculation error or data quality issue. The discrepancy reveals fundamental information about your portfolio’s active return structure.\n\nThe Standard Assumption (Often Wrong)\nTraditional risk systems assume: \\[\nTE_{\\text{monthly}} = TE_{\\text{daily}} \\times \\sqrt{D}\n\\] where \\(D\\) ≈ 21 trading days per month.\nThis is the square-root-of-time scaling rule from random walk theory. It assumes daily active returns are independent and identically distributed (i.i.d.).\nReality: Active returns in real portfolios exhibit serial correlation (autocorrelation), which violates the i.i.d. assumption and causes the scaling rule to break down.\n\n\nWhat Drives the Discrepancy\nThe relationship between daily and monthly annualized TE depends on the autocovariance structure of your active returns:\n\n\n\n\n\n\n\n\nPortfolio Characteristic\nSerial Correlation\nEffect on Monthly TE\n\n\n\n\nMomentum/Growth tilts\nPositive (persistent)\nMonthly annualized TE higher than daily predicts\n\n\nValue/Energy tilts\nNegative (mean-reverting)\nMonthly annualized TE lower than daily predicts\n\n\nDiversified/Neutral\nNear zero\nMonthly and daily annualized TE align\n\n\n\n\n\nWhy This Matters\nUnderstanding this relationship is critical for:\n\nRisk Budgeting: Setting appropriate TE limits across different reporting horizons\nCompliance: Avoiding situations where you’re within daily limits but exceed monthly limits\nRebalancing: Determining optimal rebalancing frequency based on drift characteristics\nClient Communication: Explaining why risk metrics vary across time horizons\nPerformance Attribution: Understanding whether active returns compound or offset over time"
  },
  {
    "objectID": "index.html#three-portfolio-behaviors-you-need-to-recognize",
    "href": "index.html#three-portfolio-behaviors-you-need-to-recognize",
    "title": "Tracking Error Across Time Horizons",
    "section": "Three Portfolio Behaviors You Need to Recognize",
    "text": "Three Portfolio Behaviors You Need to Recognize\n\n1. Persistent Drift (Trending Positions)\nWhat it looks like: - You’re overweight Tech, Growth stocks, or Momentum factors - These positions keep outperforming (or underperforming) day after day - When they’re up, they tend to stay up; when they’re down, they tend to stay down\nWhat happens to TE: - Daily TE looks manageable: 0.50% per day → 7.9% annualized - Monthly TE surprises you: 9.5% annualized → 20% higher than daily suggested - Risk reports show escalating monthly numbers\nReal-world example: A portfolio with 20% overweight in FAANG stocks during 2020-2021. Tech kept winning. Daily TE of 0.6% suggested 9.5% annual TE. Actual monthly aggregation showed 11.4% annual TE.\nClient impact: - Your portfolio appears riskier on monthly statements than daily reports suggested - Clients may see larger deviations from benchmark in quarterly reviews - Risk limits based on daily TE may be inadequate\n\n\n2. Mean Reversion (Oscillating Positions)\nWhat it looks like: - You’re overweight Energy, Value stocks, or Defensive sectors - These positions spike one day, then reverse the next - Your outperformance today tends to become underperformance tomorrow\nWhat happens to TE: - Daily TE looks elevated: 0.65% per day → 10.3% annualized - Monthly TE is lower: 8.7% annualized → 15% lower than daily suggested - The daily ups and downs cancel out over the month\nReal-world example: A portfolio tilted toward Energy and Financials. High daily volatility (0.70% TE) but reversals meant monthly TE was only 8.9% annualized vs. 11.1% predicted from daily.\nClient impact: - Your portfolio appears less risky on monthly statements than daily reports suggested - You may have more room for active bets than daily TE indicates - Risk budgets based on daily TE may be too conservative\n\n\n3. Random Walk (Neutral Positions)\nWhat it looks like: - Broad ESG screens, minor sector tilts, or diversified active bets - No particular trend or reversal pattern - Each day is independent of the last\nWhat happens to TE: - Daily and monthly TE align as expected - Your risk systems’ standard calculations work fine - No surprises in risk reporting\nClient impact: - Risk reporting is consistent across time periods - Standard TE budgeting approaches work well"
  },
  {
    "objectID": "index.html#what-this-means-for-your-practice",
    "href": "index.html#what-this-means-for-your-practice",
    "title": "Tracking Error Across Time Horizons",
    "section": "What This Means for Your Practice",
    "text": "What This Means for Your Practice\n\n1. Reading Your Risk Reports\nWhen reviewing risk reports, ask yourself:\n“What am I overweight in?” - Tech/Growth/Momentum → Expect monthly TE higher than daily predicts - Energy/Value/Defensive → Expect monthly TE lower than daily predicts - Broad diversified tilts → Expect monthly and daily to align\nDon’t be alarmed if: - Monthly TE exceeds daily projections for a trending portfolio — it’s expected - Monthly TE comes in lower for a mean-reverting portfolio — also expected\nDo be concerned if: - A trending portfolio shows lower monthly TE (position may have reversed) - A defensive portfolio shows higher monthly TE (market regime may have changed)\n\n\n2. Setting Risk Budgets\nFor Momentum/Growth Portfolios: - Your daily TE of 0.50% might imply 7.9% annual, but monthly could show 9-10% - Build in a buffer — if targeting 8% TE, set daily limit around 0.45% - Rebalance more frequently to prevent drift accumulation\nFor Value/Energy Portfolios: - Your daily TE of 0.60% might imply 9.5% annual, but monthly could show 8% - You may have more room — if targeting 8% TE, daily limit could be 0.65% - Less frequent rebalancing may be acceptable\n\n\n3. Client Communication\nWhen monthly TE exceeds daily projections:\n“Your portfolio is overweight in sectors that have shown persistent strength this period. This causes the monthly tracking difference to be larger than what you see day-to-day. This is expected behavior for a growth-tilted strategy.”\nWhen monthly TE comes in lower than expected:\n“Your portfolio’s active positions tend to balance out over the month. While we see daily variations, these often offset each other, resulting in lower monthly tracking error. This is typical for value-oriented strategies.”\n\n\n4. Rebalancing Decisions\nHigh persistence (trending) portfolios: - More frequent rebalancing helps control drift - Consider weekly or bi-weekly rebalancing - Monitor for extended trending periods\nHigh reversion (oscillating) portfolios: - Less frequent rebalancing may be optimal - Monthly or quarterly rebalancing often sufficient - Don’t over-trade in response to daily volatility"
  },
  {
    "objectID": "index.html#the-mechanics-serial-correlation-in-active-returns",
    "href": "index.html#the-mechanics-serial-correlation-in-active-returns",
    "title": "Tracking Error Across Time Horizons",
    "section": "The Mechanics: Serial Correlation in Active Returns",
    "text": "The Mechanics: Serial Correlation in Active Returns\n\nAutocovariance and TE Scaling\nThe relationship between monthly and daily TE is governed by the autocovariance function of active returns:\n\\[\n\\gamma_k = \\text{Cov}(a_t, a_{t+k})\n\\]\nwhere \\(a_t\\) is the active return on day \\(t\\), and \\(k\\) is the lag in days.\nThree regimes:\n\nPositive autocovariance (γₖ &gt; 0): Today’s active return is positively correlated with tomorrow’s → active returns persist → monthly drift accumulates\nZero autocovariance (γₖ = 0): No serial correlation → active returns are independent → standard square-root scaling applies\nNegative autocovariance (γₖ &lt; 0): Today’s active return is negatively correlated with tomorrow’s → active returns reverse → monthly drift cancels out\n\n\n\nThe Accumulation Effect\nConsider a simplified example to build intuition:\nPersistent drift (positive γₖ): - Day 1: +0.5% active return - Day 2: +0.4% (cumulative: +0.9%) - Day 3: +0.6% (cumulative: +1.5%) - Day 4: +0.3% (cumulative: +1.8%) - … - End of month: +8.7% cumulative\nDaily volatility: 0.4% → annualized: 6.3%\nMonthly observation: 8.7% → if this persists, annualized monthly TE ≈ 7.5%\nMonthly TE exceeds daily TE prediction by ~19%\nMean reversion (negative γₖ): - Day 1: +0.8% active return - Day 2: -0.6% (cumulative: +0.2%) - Day 3: +0.5% (cumulative: +0.7%) - Day 4: -0.4% (cumulative: +0.3%) - … - End of month: +1.2% cumulative\nDaily volatility: 0.6% → annualized: 9.5%\nMonthly observation: 1.2% → if this persists, annualized monthly TE ≈ 8.0%\nMonthly TE is ~16% lower than daily TE prediction\n\n\nWhy Does This Happen?\nEconomic drivers of positive autocovariance: - Momentum in equity returns - Sector leadership that persists for weeks/months - Factor exposures (growth, quality, momentum) with slow mean reversion - Low rebalancing frequency allowing positions to drift\nEconomic drivers of negative autocovariance: - Short-term price reversals (bid-ask bounce, microstructure effects) - Mean-reverting factors (value, defensive) - High rebalancing frequency that cuts off drift - Contrarian strategies that exploit reversals"
  },
  {
    "objectID": "index.html#real-portfolio-examples",
    "href": "index.html#real-portfolio-examples",
    "title": "Tracking Error Across Time Horizons",
    "section": "Real Portfolio Examples",
    "text": "Real Portfolio Examples\n\nTech-Heavy Growth Portfolio (2020-2021)\nHoldings: 25% overweight in FAANG + cloud computing + semiconductors\nWhat happened: - Tech leadership persisted throughout the period - Daily TE averaged 0.55% → implied 8.7% annual - Actual monthly TE: 10.2% annual → 17% higher than daily predicted\nRisk management lesson: A 1% daily TE limit (meant to keep annual below 15%) actually resulted in nearly 18% annual TE due to persistence.\nWhat the advisor should have done: Set daily limit at 0.85% to account for likely persistence in tech trends.\n\n\n\nValue + Energy Tilt (2022)\nHoldings: Overweight energy, financials, materials; underweight tech\nWhat happened: - High daily volatility as energy spiked and reversed weekly - Daily TE averaged 0.70% → implied 11.1% annual - Actual monthly TE: 9.3% annual → 16% lower than daily predicted\nRisk management lesson: The advisor was overcautious — daily TE looked scary, but monthly TE was actually manageable.\nWhat the advisor should have done: Could have taken larger active bets, knowing reversals would reduce monthly TE.\n\n\n\nESG-Screened Broad Index\nHoldings: S&P 500 excluding tobacco, weapons, fossil fuels\nWhat happened: - Stable, diversified tilts with no strong trends - Daily TE averaged 0.32% → implied 5.1% annual - Actual monthly TE: 5.0% annual → Matched predictions\nRisk management lesson: Standard TE budgeting worked fine — no surprises."
  },
  {
    "objectID": "index.html#python-demonstration-visualizing-the-three-regimes",
    "href": "index.html#python-demonstration-visualizing-the-three-regimes",
    "title": "Tracking Error Across Time Horizons",
    "section": "Python Demonstration: Visualizing the Three Regimes",
    "text": "Python Demonstration: Visualizing the Three Regimes\nLet’s simulate the three autocovariance regimes and visualize their impact on cumulative drift and tracking error scaling.\n\n\nCode\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nnp.random.seed(42)\n\n# Parameters\nD = 21  # trading days per month\nN_months = 12\ntotal_days = D * N_months\n\n# Generate three types of active returns using AR(1) processes\n# 1. Persistent drift (positive autocorrelation)\nphi_pos = 0.5\neps_persistent = np.random.normal(0, 0.01, total_days)\na_persistent = np.zeros(total_days)\na_persistent[0] = eps_persistent[0]\nfor i in range(1, total_days):\n    a_persistent[i] = phi_pos * a_persistent[i-1] + eps_persistent[i]\n\n# 2. Random walk (no autocorrelation)\na_random = np.random.normal(0, 0.01, total_days)\n\n# 3. Mean reversion (negative autocorrelation)\nphi_neg = -0.5\neps_revert = np.random.normal(0, 0.01, total_days)\na_revert = np.zeros(total_days)\na_revert[0] = eps_revert[0]\nfor i in range(1, total_days):\n    a_revert[i] = phi_neg * a_revert[i-1] + eps_revert[i]\n\n# Calculate cumulative active returns (portfolio drift)\ncum_persistent = np.cumsum(a_persistent)\ncum_random = np.cumsum(a_random)\ncum_revert = np.cumsum(a_revert)\n\n# Plot cumulative drift\nfig, axes = plt.subplots(1, 3, figsize=(15, 4))\n\naxes[0].plot(cum_persistent, label='Cumulative drift', color='red', linewidth=2)\naxes[0].axhline(0, color='black', linestyle='--', alpha=0.3)\naxes[0].set_title('Persistent Drift (Positive γ)', fontsize=12, fontweight='bold')\naxes[0].set_ylabel('Cumulative active return (%)', fontsize=10)\naxes[0].set_xlabel('Trading days', fontsize=10)\naxes[0].grid(alpha=0.3)\n\naxes[1].plot(cum_random, label='Cumulative drift', color='blue', linewidth=2)\naxes[1].axhline(0, color='black', linestyle='--', alpha=0.3)\naxes[1].set_title('Random Walk (Zero γ)', fontsize=12, fontweight='bold')\naxes[1].set_ylabel('Cumulative active return (%)', fontsize=10)\naxes[1].set_xlabel('Trading days', fontsize=10)\naxes[1].grid(alpha=0.3)\n\naxes[2].plot(cum_revert, label='Cumulative drift', color='green', linewidth=2)\naxes[2].axhline(0, color='black', linestyle='--', alpha=0.3)\naxes[2].set_title('Mean Reversion (Negative γ)', fontsize=12, fontweight='bold')\naxes[2].set_ylabel('Cumulative active return (%)', fontsize=10)\naxes[2].set_xlabel('Trading days', fontsize=10)\naxes[2].grid(alpha=0.3)\n\nplt.tight_layout()\nplt.show()\n\n# Calculate TE ratios\ndef calculate_te_ratio(daily_returns, period=21):\n    \"\"\"Calculate the ratio of monthly to daily TE (annualized basis)\"\"\"\n    te_daily = np.std(daily_returns)\n    \n    # Split into months and calculate monthly TE\n    n_months = len(daily_returns) // period\n    monthly_returns = [np.sum(daily_returns[i*period:(i+1)*period]) \n                       for i in range(n_months)]\n    te_monthly = np.std(monthly_returns)\n    \n    # Annualize both\n    te_daily_ann = te_daily * np.sqrt(252)\n    te_monthly_ann = te_monthly * np.sqrt(12)\n    \n    return te_monthly_ann / te_daily_ann\n\nratio_persistent = calculate_te_ratio(a_persistent)\nratio_random = calculate_te_ratio(a_random)\nratio_revert = calculate_te_ratio(a_revert)\n\nprint(\"\\n\" + \"=\" * 70)\nprint(\"TE Ratio: Monthly Annualized / Daily Annualized\")\nprint(\"=\" * 70)\nprint(f\"Persistent drift (φ=+0.5):   {ratio_persistent:.4f}  → Monthly TE is {(ratio_persistent-1)*100:+.1f}% vs daily prediction\")\nprint(f\"Random walk (φ=0):            {ratio_random:.4f}  → Monthly TE matches daily prediction\")\nprint(f\"Mean reversion (φ=-0.5):      {ratio_revert:.4f}  → Monthly TE is {(ratio_revert-1)*100:+.1f}% vs daily prediction\")\nprint(\"=\" * 70)\n\n\n\n\n\n\n\n\n\n\n======================================================================\nTE Ratio: Monthly Annualized / Daily Annualized\n======================================================================\nPersistent drift (φ=+0.5):   1.3783  → Monthly TE is +37.8% vs daily prediction\nRandom walk (φ=0):            0.8682  → Monthly TE matches daily prediction\nMean reversion (φ=-0.5):      0.5780  → Monthly TE is -42.2% vs daily prediction\n======================================================================\n\n\nInterpretation:\n\nPersistent drift (red): Cumulative return trends away from zero. Monthly TE is 15-30% higher than daily TE predicts.\nRandom walk (blue): Cumulative return meanders without strong trend. Monthly TE matches daily TE × √21.\nMean reversion (green): Cumulative return oscillates tightly around zero. Monthly TE is 10-20% lower than daily TE predicts."
  },
  {
    "objectID": "index.html#interactive-exploration",
    "href": "index.html#interactive-exploration",
    "title": "Tracking Error Across Time Horizons",
    "section": "Interactive Exploration",
    "text": "Interactive Exploration\nWant to see this in action with your own data or simulations? Visit the Interactive App:\n\nSimulate different portfolio behaviors (trending vs mean-reverting)\nUpload your own return data\nVisualize how tracking error accumulates over time\nCompare daily vs monthly TE calculations"
  },
  {
    "objectID": "index.html#quick-reference-what-to-watch-for",
    "href": "index.html#quick-reference-what-to-watch-for",
    "title": "Tracking Error Across Time Horizons",
    "section": "Quick Reference: What To Watch For",
    "text": "Quick Reference: What To Watch For\n\n\n\n\n\n\n\n\nYour Portfolio Type\nWhat You’ll See\nWhat To Do\n\n\n\n\nTech/Growth Heavy\nMonthly TE 15-30% higher than daily predicts\nBuild in TE buffer, rebalance more often\n\n\nEnergy/Value Tilt\nMonthly TE 10-20% lower than daily predicts\nYou have more room, don’t over-trade\n\n\nBroad ESG/Diversified\nMonthly TE matches daily predictions\nStandard TE budgeting works fine\n\n\nHigh Turnover\nLower monthly TE (rebalancing cuts drift)\nLess concern about escalation\n\n\nBuy & Hold Active\nHigher monthly TE (drift accumulates)\nMonitor closely, consider rebalancing"
  },
  {
    "objectID": "index.html#common-questions-from-advisors",
    "href": "index.html#common-questions-from-advisors",
    "title": "Tracking Error Across Time Horizons",
    "section": "Common Questions from Advisors",
    "text": "Common Questions from Advisors\n\n“My daily TE has been 0.60% for months. Why is my monthly TE now 11%?”\nLook at what you’re overweight. If it’s trending sectors (Tech, Growth), those 0.60% daily moves have been compounding. Monthly TE of 11% (vs 9.5% predicted) means you have about 15% persistence in your active bets.\nAction: Either accept the higher monthly TE or rebalance more frequently to reset the drift.\n\n\n“My compliance system flagged me for exceeding TE limits. But I’ve been within daily limits every day!”\nThis is the classic persistence trap. Your compliance system measured monthly TE, which exceeded limits despite daily compliance. Your trending positions caused accumulation.\nAction: Work with compliance to either: (1) use monthly TE limits that account for persistence, or (2) set tighter daily limits that build in a buffer.\n\n\n“Should I be worried if my monthly TE is lower than expected?”\nNot necessarily. If you’re overweight mean-reverting sectors (Value, Energy), this is expected and actually gives you flexibility. Just watch for regime changes — if these sectors start trending, your monthly TE could suddenly increase.\nAction: Monitor sector correlations and rebalancing frequency. Document that lower monthly TE is due to mean reversion, not measurement error.\n\n\n“How do I explain this to clients?”\nFocus on what they hold, not the math:\n\nTech/Growth clients: “Your portfolio is positioned in sectors showing persistent strength. This means your monthly tracking tends to be higher than you might expect from daily numbers.”\nValue/Defensive clients: “Your portfolio’s positions tend to balance out over the month, so while you see daily ups and downs, the monthly tracking is actually quite modest.”"
  },
  {
    "objectID": "index.html#key-takeaways-for-advisors",
    "href": "index.html#key-takeaways-for-advisors",
    "title": "Tracking Error Across Time Horizons",
    "section": "Key Takeaways for Advisors",
    "text": "Key Takeaways for Advisors\n\nYour risk reports tell different stories at different horizons — this is revealing portfolio behavior, not a calculation error\nKnow what you’re overweight — Tech/Growth trend (higher monthly TE), Energy/Value oscillate (lower monthly TE)\nSet appropriate buffers — Trending portfolios need looser daily limits to avoid constant rebalancing\nCommunicate proactively — Explain to clients why monthly statements might show different risk than they expect\nRebalance strategically — More frequent for trending portfolios, less frequent for mean-reverting ones\nUse the tools — The interactive app lets you upload your data and see these effects firsthand"
  },
  {
    "objectID": "index.html#want-to-go-deeper",
    "href": "index.html#want-to-go-deeper",
    "title": "Tracking Error Across Time Horizons",
    "section": "Want to Go Deeper?",
    "text": "Want to Go Deeper?\nThis page focused on practical implications for advisors. If you want to understand the mathematical foundations:\n→ Complete Mathematical Derivation\nStep-by-step proof of why and how tracking error scales differently. Includes worked examples with Python code.\n→ Advanced Technical Methods\nAR(1) models, Newey-West estimation, and implementation code for quants building risk systems."
  },
  {
    "objectID": "index.html#navigation",
    "href": "index.html#navigation",
    "title": "Tracking Error Across Time Horizons",
    "section": "Navigation",
    "text": "Navigation\n\nFor More Detail:\n→ Intuitive Math: Complete Derivation\nFull mathematical treatment with proofs and examples\n→ Technical Math: AR(1) & Newey-West\nAdvanced methods for quantitative implementation\n\n\nTry It Yourself:\n\nInteractive App: Tracking Error Lab on Streamlit\nGitHub Repository: TejasViswa/tracking-error-lab"
  },
  {
    "objectID": "intuitive_math.html",
    "href": "intuitive_math.html",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "",
    "text": "By Tejas Viswanath • November 1, 2025 •"
  },
  {
    "objectID": "intuitive_math.html#overview",
    "href": "intuitive_math.html#overview",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "Overview",
    "text": "Overview\nThis document provides a comprehensive derivation of how tracking error scales from daily to monthly horizons. We’ll see that the relationship isn’t just about square-root-of-time scaling — it fundamentally depends on the autocovariance structure of active returns.\nKey insight: When your overweight positions persistently outperform (or underperform), monthly tracking error can be higher than what daily TE would predict. When performance mean-reverts, monthly TE can be lower."
  },
  {
    "objectID": "intuitive_math.html#foundation-daily-active-returns-and-tracking-error",
    "href": "intuitive_math.html#foundation-daily-active-returns-and-tracking-error",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "1. Foundation: Daily Active Returns and Tracking Error",
    "text": "1. Foundation: Daily Active Returns and Tracking Error\n\n1.1 Definition of active returns\nTracking error measures how much a portfolio’s returns deviate from its benchmark over time. We start with daily active returns:\n\\[\na_t = r_t^{P} - r_t^{B}\n\\]\nwhere:\n\n\\(r_t^{P}\\) = portfolio’s daily return on day \\(t\\)\n\\(r_t^{B}\\) = benchmark’s daily return on day \\(t\\)\n\\(a_t\\) = active return (portfolio excess over benchmark)\n\n\n\n1.2 Daily tracking error (sample estimate)\nGiven \\(N\\) days of data, we compute:\nDaily sample mean: \\[\n\\bar{a} = \\frac{1}{N}\\sum_{t=1}^{N} a_t\n\\]\nDaily sample variance: \\[\n\\sigma_d^2 = \\frac{1}{N-1}\\sum_{t=1}^{N} (a_t - \\bar{a})^2\n\\]\nDaily tracking error: \\[\nTE_d = \\sqrt{\\sigma_d^2}\n\\]\nThis is the standard deviation of active returns — it tells us how much the portfolio typically deviates from the benchmark each day.\n\n\n1.3 Annualizing daily tracking error\nTo express daily TE on an annualized basis, we scale by the square root of the number of trading days per year:\n\\[\nTE_{d,\\text{ann}} = TE_d \\times \\sqrt{252}\n\\]\nImportant assumption: This simple scaling assumes daily returns are independent and identically distributed (no autocorrelation). If returns are serially correlated, this scaling will under- or over-estimate annual risk. That’s what the rest of this derivation explores."
  },
  {
    "objectID": "intuitive_math.html#monthly-active-returns-building-from-daily-data",
    "href": "intuitive_math.html#monthly-active-returns-building-from-daily-data",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "2. Monthly Active Returns: Building From Daily Data",
    "text": "2. Monthly Active Returns: Building From Daily Data\n\n2.1 Constructing monthly returns\nLet each month \\(m\\) have \\(D\\) trading days (typically \\(D \\approx 21\\)). The monthly active return is the sum of daily active returns within that month:\n\\[\nA_m = \\sum_{i=1}^{D} a_{m,i}\n\\]\nwhere \\(a_{m,i}\\) denotes the daily active return on day \\(i\\) within month \\(m\\).\nOver \\(M\\) months, we can compute:\nMonthly sample mean: \\[\n\\bar{A} = \\frac{1}{M}\\sum_{m=1}^{M} A_m\n\\]\nMonthly sample variance: \\[\n\\sigma_m^2 = \\frac{1}{M-1}\\sum_{m=1}^{M} (A_m - \\bar{A})^2\n\\]\nMonthly tracking error: \\[\nTE_m = \\sqrt{\\sigma_m^2}\n\\]\n\n\n2.2 Annualizing monthly tracking error\nSimilarly, we can annualize monthly TE by scaling by the square root of months per year:\n\\[\nTE_{m,\\text{ann}} = TE_m \\times \\sqrt{12}\n\\]\nNow the question is: How does \\(TE_{m,\\text{ann}}\\) relate to \\(TE_{d,\\text{ann}}\\)? Are they equal? If not, why not?"
  },
  {
    "objectID": "intuitive_math.html#the-core-variance-of-a-sum-expansion",
    "href": "intuitive_math.html#the-core-variance-of-a-sum-expansion",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "3. The Core: Variance-of-a-Sum Expansion",
    "text": "3. The Core: Variance-of-a-Sum Expansion\n\n3.1 General variance-of-a-sum formula\nTo understand monthly variance, we need to expand the variance of a sum. For any two random variables:\n\\[\n\\mathrm{Var}(X + Y) = \\mathrm{Var}(X) + \\mathrm{Var}(Y) + 2\\,\\mathrm{Cov}(X, Y)\n\\]\nFor \\(D\\) daily returns within a month:\n\\[\n\\mathrm{Var}(A_m) = \\mathrm{Var}\\!\\left(\\sum_{i=1}^{D} a_{m,i}\\right)\n= \\sum_{i=1}^{D} \\mathrm{Var}(a_{m,i})\n+ 2\\!\\sum_{i&lt;j} \\mathrm{Cov}(a_{m,i}, a_{m,j})\n\\]\nThe first term is the sum of individual variances; the second term captures covariances between different days.\n\n\n3.2 Stationarity assumption\nTo simplify, assume within-month stationarity:\n\nEach daily return has the same variance: \\(\\mathrm{Var}(a_{m,i}) = \\sigma_d^2\\)\nThe covariance depends only on the time lag \\(k\\): \\(\\mathrm{Cov}(a_{m,i}, a_{m,j}) = \\gamma_{|j-i|}\\)\n\nwhere: \\[\n\\gamma_k = \\mathrm{Cov}(a_t, a_{t+k})\n\\]\nis the lag-\\(k\\) autocovariance of active returns.\nThink of this as the covariance between active returns on a particular day \\(i\\) and another day \\(j\\) with a separation of \\(k\\) days between them ie: \\(k=|j-i|\\).\n\n\n3.3 Counting pairs by lag\nFor a given lag \\(k\\) (where \\(k = 1, 2, \\ldots, D-1\\)):\n\nThere are exactly \\((D - k)\\) pairs \\((i, j)\\) with \\(j - i = k\\)\n\nFor example, with \\(D=21\\):\n\nLag 1: pairs \\((1,2), (2,3), \\ldots, (20,21)\\) → 20 pairs\nLag 2: pairs \\((1,3), (2,4), \\ldots, (19,21)\\) → 19 pairs\n…\nLag 20: pair \\((1,21)\\) → 1 pair\n\n\n\n3.4 Compact expression for monthly variance\nPutting it together:\n\\[\n\\mathrm{Var}(A_m) = D\\,\\sigma_d^2 + 2\\sum_{k=1}^{D-1} (D-k)\\,\\gamma_k\n\\]\nComponents:\n\nFirst term: \\(D\\,\\sigma_d^2\\) — variance contribution if returns were independent\nSecond term: \\(2\\sum (D-k)\\gamma_k\\) — adjustment for serial correlation\n\n\n\n3.5 Monthly tracking error (population form)\nTaking the square root:\n\\[\nTE_m = \\sqrt{\\,D\\,\\sigma_d^2 + 2\\sum_{k=1}^{D-1}(D-k)\\,\\gamma_k\\,}\n\\]\nSpecial case (no autocorrelation): If \\(\\gamma_k = 0\\) for all \\(k\\):\n\\[\nTE_m = \\sqrt{D}\\,TE_d\n\\]\nWith \\(D=21\\), this gives \\(TE_m \\approx 4.58 \\times TE_d\\) — the familiar square-root scaling."
  },
  {
    "objectID": "intuitive_math.html#the-key-result-monthly-vs-daily-annualized-te",
    "href": "intuitive_math.html#the-key-result-monthly-vs-daily-annualized-te",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "4. The Key Result: Monthly vs Daily Annualized TE",
    "text": "4. The Key Result: Monthly vs Daily Annualized TE\n\n4.1 Deriving the ratio\nWe have:\n\nDaily annualized: \\(TE_{d,\\text{ann}} = TE_d \\sqrt{252}\\)\nMonthly annualized: \\(TE_{m,\\text{ann}} = TE_m \\sqrt{12}\\)\n\nTaking the ratio:\n\\[\n\\frac{TE_{m,\\text{ann}}}{TE_{d,\\text{ann}}}\n= \\frac{TE_m \\sqrt{12}}{TE_d \\sqrt{252}}\n= \\sqrt{\\frac{12}{252}} \\times \\frac{TE_m}{TE_d}\n\\]\nSubstitute the expression for \\(TE_m\\):\n\\[\n\\frac{TE_{m,\\text{ann}}}{TE_{d,\\text{ann}}}\n= \\sqrt{\\frac{12}{252}}\n\\sqrt{\\frac{D\\,\\sigma_d^2 + 2\\sum_{k=1}^{D-1}(D-k)\\gamma_k}{\\sigma_d^2}}\n\\]\nSimplify:\n\\[\n\\frac{TE_{m,\\text{ann}}}{TE_{d,\\text{ann}}}\n= \\sqrt{\\frac{12\\,D}{252}}\n\\sqrt{1 + \\frac{2}{\\sigma_d^2}\\sum_{k=1}^{D-1}\\frac{(D-k)}{D}\\,\\gamma_k}\n\\]\n\n\n4.2 Standard case: \\(D = 21\\) trading days per month\nWith \\(D=21\\):\n\\[\n\\frac{12 \\times 21}{252} = \\frac{252}{252} = 1\n\\]\nSo:\n\\[\n\\frac{TE_{m,\\text{ann}}}{TE_{d,\\text{ann}}}\n= \\sqrt{\\,1 + \\frac{2}{21\\,\\sigma_d^2}\\sum_{k=1}^{20}(21-k)\\,\\gamma_k\\,}\n\\]\nInterpretation:\n\nIf \\(\\sum (21-k)\\gamma_k = 0\\) (no net autocorrelation), then the ratio equals 1 → monthly and daily annualized TE match\nIf \\(\\sum (21-k)\\gamma_k &gt; 0\\) (positive autocorrelation), then \\(TE_{m,\\text{ann}} &gt; TE_{d,\\text{ann}}\\)\nIf \\(\\sum (21-k)\\gamma_k &lt; 0\\) (negative autocorrelation), then \\(TE_{m,\\text{ann}} &lt; TE_{d,\\text{ann}}\\)"
  },
  {
    "objectID": "intuitive_math.html#understanding-autocovariance-what-does-gamma_k-mean",
    "href": "intuitive_math.html#understanding-autocovariance-what-does-gamma_k-mean",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "5. Understanding Autocovariance: What Does \\(\\gamma_k\\) Mean?",
    "text": "5. Understanding Autocovariance: What Does \\(\\gamma_k\\) Mean?\n\n5.1 Definition\n\\[\n\\gamma_k = \\mathrm{Cov}(a_t, a_{t+k}) = \\mathbb{E}[(a_t - \\bar{a})(a_{t+k} - \\bar{a})]\n\\]\nThis measures whether active returns today are related to active returns \\(k\\) days from now.\n\n\n5.2 Interpretation table\n\n\n\n\n\n\n\n\n\nBehavior\n\\(\\gamma_k\\) sign\nInterpretation\nImpact on TE\n\n\n\n\nPersistent drift\n\\(&gt; 0\\)\nToday’s outperformance tends to continue\n\\(TE_m &gt; \\sqrt{D}\\,TE_d\\)\n\n\nMean reversion\n\\(&lt; 0\\)\nToday’s outperformance tends to reverse\n\\(TE_m &lt; \\sqrt{D}\\,TE_d\\)\n\n\nNo serial correlation\n\\(\\approx 0\\)\nToday’s performance is unrelated to tomorrow’s\n\\(TE_m \\approx \\sqrt{D}\\,TE_d\\)\n\n\n\n\n\n5.3 Why does positive \\(\\gamma_k\\) increase monthly TE?\nWhen active returns are positively autocorrelated:\n\nA good day (portfolio beats benchmark) tends to be followed by more good days\nA bad day tends to be followed by more bad days\nThis compounding effect makes monthly swings larger than if each day were independent\n\nConversely, negative autocorrelation means good days are followed by bad days (and vice versa), causing day-to-day returns to partially cancel out over the month."
  },
  {
    "objectID": "intuitive_math.html#connecting-autocovariance-to-portfolio-construction",
    "href": "intuitive_math.html#connecting-autocovariance-to-portfolio-construction",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "6. Connecting Autocovariance to Portfolio Construction",
    "text": "6. Connecting Autocovariance to Portfolio Construction\n\n6.1 Active return decomposition\nRecall that active return can be decomposed into stock-level contributions:\n\\[\na_t = \\sum_{i} \\Delta w_{i,t}\\,r_{i,t}\n\\]\nwhere: - \\(\\Delta w_{i,t} = w_{P,i,t} - w_{B,i,t}\\) is the active weight in stock \\(i\\) - \\(r_{i,t}\\) is the return of stock \\(i\\) on day \\(t\\)\n\n\n6.2 Autocovariance in terms of holdings\nThe autocovariance of active returns can be written as:\n\\[\n\\gamma_k = \\mathrm{Cov}(a_t, a_{t+k})\n= \\sum_{i,j} \\mathbb{E}[\\Delta w_{i,t}\\,\\Delta w_{j,t+k}]\\,\\mathrm{Cov}(r_{i,t}, r_{j,t+k})\n\\]\nThis shows that \\(\\gamma_k\\) depends on:\n\nPersistence of active weights (\\(\\Delta w_{i,t}\\) vs \\(\\Delta w_{j,t+k}\\))\nSerial correlation in stock returns (\\(\\mathrm{Cov}(r_{i,t}, r_{j,t+k})\\))\n\n\n\n6.3 When is \\(\\gamma_k\\) positive? (Persistent drift)\n\nSustained overweight in outperforming sectors (e.g., Tech, Growth stocks keep winning)\nStable portfolio positions with minimal rebalancing\nMomentum effects in the cross-section of stocks\nFactor persistence (value, quality, etc. keep driving returns in the same direction)\n\n→ Result: Cross-sectional drift accumulates → divergence between portfolio and benchmark grows → \\(TE_{m,\\text{ann}} &gt; TE_{d,\\text{ann}}\\)\n\n\n6.4 When is \\(\\gamma_k\\) negative? (Mean reversion)\n\nRapid mean-reversion of factor exposures (yesterday’s winners become today’s losers)\nFrequent rebalancing back toward benchmark weights\nContrarian behavior in portfolio positions\nShort-term reversals in stock prices\n\n→ Result: Drift collapses as gains reverse → \\(TE_{m,\\text{ann}} &lt; TE_{d,\\text{ann}}\\)"
  },
  {
    "objectID": "intuitive_math.html#practical-example-python-simulation",
    "href": "intuitive_math.html#practical-example-python-simulation",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "7. Practical Example (Python Simulation)",
    "text": "7. Practical Example (Python Simulation)\nLet’s compute the ratio \\(TE_{m,\\text{ann}} / TE_{d,\\text{ann}}\\) under different autocorrelation scenarios.\n\n\nCode\nimport numpy as np\nnp.random.seed(42)\n\n# Parameters\nD = 21                # trading days per month\nsigma_d = 0.01        # daily TE = 1% (annualized: ~15.9%)\n\n# Calculate the theoretical limit for negative autocovariance\n# Constraint: 1 + 2/(D*sigma_d^2) * sum_gamma &gt;= 0\n# Therefore: sum_gamma &gt;= -D*sigma_d^2/2\nmax_neg_autocov_sum = -D * sigma_d**2 / 2\n\n# Use 80% of the theoretical limit for safety (allows variance to be positive)\nsafe_factor = 0.8\n\n# Case 1: Positive autocorrelation (persistent drift)\n# Assume autocovariance decays linearly with lag\ngamma_scale_pos = 0.000003  # Much smaller to show realistic effect\ngamma_pos = [gamma_scale_pos * (1 - k/D) for k in range(1, D)]\nautocov_sum_pos = sum((D - k) * g for k, g in enumerate(gamma_pos, 1))\nratio_pos = np.sqrt(1 + 2 / (D * sigma_d**2) * autocov_sum_pos)\n\n# Case 2: Negative autocorrelation (mean reversion)\n# Use same magnitude but negative, staying within theoretical bounds\ngamma_scale_neg = -gamma_scale_pos\ngamma_neg = [gamma_scale_neg * (1 - k/D) for k in range(1, D)]\nautocov_sum_neg = sum((D - k) * g for k, g in enumerate(gamma_neg, 1))\nratio_neg = np.sqrt(1 + 2 / (D * sigma_d**2) * autocov_sum_neg)\n\n# Case 3: No autocorrelation (baseline)\nratio_zero = 1.0\n\nprint(\"=\" * 60)\nprint(\"TE Ratio: Monthly Annualized / Daily Annualized\")\nprint(\"=\" * 60)\nprint(f\"Persistent drift (positive γ):   {ratio_pos:.4f}\")\nprint(f\"No autocorrelation (γ = 0):       {ratio_zero:.4f}\")\nprint(f\"Mean reversion (negative γ):      {ratio_neg:.4f}\")\nprint(\"=\" * 60)\n\n# Calculate percentage differences\npct_higher = (ratio_pos - 1) * 100\npct_lower = (1 - ratio_neg) * 100\n\nprint(f\"\\nInterpretation:\")\nprint(f\"  - With persistent drift, monthly TE is ~{pct_higher:.1f}% higher than daily TE predicts\")\nprint(f\"  - With mean reversion, monthly TE is ~{pct_lower:.1f}% lower than daily TE predicts\")\nprint(f\"\\nAutocovariance details:\")\nprint(f\"  - Positive case: Σ(D-k)γₖ = {autocov_sum_pos:.7f}\")\nprint(f\"  - Negative case: Σ(D-k)γₖ = {autocov_sum_neg:.7f}\")\nprint(f\"  - Theoretical limit (negative): {max_neg_autocov_sum:.7f}\")\n\n\n============================================================\nTE Ratio: Monthly Annualized / Daily Annualized\n============================================================\nPersistent drift (positive γ):   1.1792\nNo autocorrelation (γ = 0):       1.0000\nMean reversion (negative γ):      0.7807\n============================================================\n\nInterpretation:\n  - With persistent drift, monthly TE is ~17.9% higher than daily TE predicts\n  - With mean reversion, monthly TE is ~21.9% lower than daily TE predicts\n\nAutocovariance details:\n  - Positive case: Σ(D-k)γₖ = 0.0004100\n  - Negative case: Σ(D-k)γₖ = -0.0004100\n  - Theoretical limit (negative): -0.0010500\n\n\nWhat this shows:\n\nEven modest autocorrelation (γₖ ≈ ±0.000003) can cause meaningful 5-15% differences in annualized TE\nThe effect is symmetric: positive autocorrelation increases monthly TE by roughly the same amount that negative autocorrelation decreases it\nThere’s a theoretical limit to how negative autocovariances can be: Σ(D-k)γₖ ≥ -D·σ²ᵈ/2, otherwise monthly variance would be negative (impossible)\nIn real portfolios with strong factor bets or momentum strategies, autocovariances can be much larger, leading to more dramatic differences between daily and monthly TE estimates"
  },
  {
    "objectID": "intuitive_math.html#summary-three-regimes-of-te-scaling",
    "href": "intuitive_math.html#summary-three-regimes-of-te-scaling",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "8. Summary: Three Regimes of TE Scaling",
    "text": "8. Summary: Three Regimes of TE Scaling\n\n\n\n\n\n\n\n\n\nScenario\nAutocorrelation\nSign of \\(\\sum (D-k)\\gamma_k\\)\nResult\n\n\n\n\nPersistent drift\nPositive \\(\\gamma_k\\)\nPositive\n\\(TE_{m,\\text{ann}} &gt; TE_{d,\\text{ann}}\\)\n\n\nRandom walk\nZero \\(\\gamma_k\\)\nZero\n\\(TE_{m,\\text{ann}} = TE_{d,\\text{ann}}\\)\n\n\nMean reversion\nNegative \\(\\gamma_k\\)\nNegative\n\\(TE_{m,\\text{ann}} &lt; TE_{d,\\text{ann}}\\)"
  },
  {
    "objectID": "intuitive_math.html#key-takeaways",
    "href": "intuitive_math.html#key-takeaways",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "9. Key Takeaways",
    "text": "9. Key Takeaways\n\nTracking error scaling is NOT just square-root-of-time — it depends fundamentally on the autocovariance structure of active returns.\nPersistent outperformance (positive \\(\\gamma_k\\)) means overweight positions keep beating the benchmark → monthly TE exceeds what daily TE predicts.\nMean reversion (negative \\(\\gamma_k\\)) means gains reverse → monthly TE is lower than daily TE predicts.\nCross-sectional drift is the economic driver: when active weights are concentrated in persistently outperforming sectors/factors, \\(\\gamma_k &gt; 0\\).\nRebalancing frequency matters: frequent rebalancing can reduce autocorrelation (and thus reduce monthly TE) by cutting off drift before it compounds."
  },
  {
    "objectID": "intuitive_math.html#notation-reference",
    "href": "intuitive_math.html#notation-reference",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "10. Notation Reference",
    "text": "10. Notation Reference\n\n\n\n\n\n\n\nSymbol\nMeaning\n\n\n\n\n\\(a_t\\)\nDaily active return on day \\(t\\) (portfolio - benchmark)\n\n\n\\(A_m\\)\nMonthly active return for month \\(m\\) (sum of daily actives)\n\n\n\\(D\\)\nNumber of trading days per month (typically 21)\n\n\n\\(\\sigma_d^2\\)\nDaily variance of active returns\n\n\n\\(TE_d\\)\nDaily tracking error = \\(\\sqrt{\\sigma_d^2}\\)\n\n\n\\(TE_{d,\\text{ann}}\\)\nDaily TE annualized = \\(TE_d \\sqrt{252}\\)\n\n\n\\(TE_m\\)\nMonthly tracking error\n\n\n\\(TE_{m,\\text{ann}}\\)\nMonthly TE annualized = \\(TE_m \\sqrt{12}\\)\n\n\n\\(\\gamma_k\\)\nLag-\\(k\\) autocovariance = \\(\\mathrm{Cov}(a_t, a_{t+k})\\)\n\n\n\\(\\Delta w_{i,t}\\)\nActive weight in stock \\(i\\) at time \\(t\\) (portfolio - benchmark)"
  },
  {
    "objectID": "intuitive_math.html#extensions-and-further-reading",
    "href": "intuitive_math.html#extensions-and-further-reading",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "11. Extensions and Further Reading",
    "text": "11. Extensions and Further Reading\n\n11.1 Rolling autocovariance estimation\nTrack how \\(\\gamma_k\\) evolves over time to detect regime changes:\n\nIs your portfolio entering a phase of persistent drift?\nAre factor premiums showing stronger autocorrelation?\n\n\n\n11.2 Rebalancing frequency analysis\nTest how different rebalancing schedules (daily, weekly, monthly) affect realized \\(\\gamma_k\\) and thus monthly TE.\n\n\n11.3 Direct indexing and factor overlays\nUse this framework to:\n\nCalibrate TE budgets for tax-loss harvesting strategies\nUnderstand how ESG tilts or smart beta overlays affect TE scaling\nSize long-short factor exposures to hit target tracking error at both daily and monthly horizons\n\n\n\n11.4 Multi-horizon risk management\nExtend this analysis to quarterly or annual horizons to understand how autocorrelation compounds over longer periods."
  },
  {
    "objectID": "intuitive_math.html#navigation",
    "href": "intuitive_math.html#navigation",
    "title": "From Daily to Monthly Tracking Error: Complete Derivation and Intuition",
    "section": "Navigation",
    "text": "Navigation\n\nContinue Learning:\n← Overview: Tracking Error Across Time Horizons\nReturn to the intuitive overview with practical examples and real-world portfolio implications.\n→ Technical Math: AR(1) & Newey-West\nAdvance to rigorous mathematical treatment with closed-form AR(1) solutions and Newey-West estimation.\n\n\nExternal Resources:\n\nInteractive App: Tracking Error Lab on Streamlit\nGitHub Repository: TejasViswa/tracking-error-lab"
  }
]