[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Tracking Error Math: Daily vs Monthly, Serial Correlation, and Annualization",
    "section": "",
    "text": "Overview\nTracking Error (TE) is the standard deviation of active returns \\(a_t = r_{p,t} - r_{b,t}\\), where \\(r_{p,t}\\) and \\(r_{b,t}\\) are portfolio and benchmark returns at time \\(t\\). This article derives:\n\nthe usual sample TE estimator and its annualization under IID,\nwhy IID fails with serial correlation, and the correct formulas,\na general formula for TE when aggregating \\(m\\) periods (e.g., daily \\(\\rightarrow\\) monthly),\na closed-form AR(1) expression you can use to relate daily and monthly TE,\nconsistent (Newey‚ÄìWest) annualization from daily data.\n\nüëâ Interactive App: https://tracking-error-lab-kgkju98o4pqxdjoevqtsay.streamlit.app/\nüëâ GitHub Repo: https://github.com/TejasViswa/tracking-error-lab\n\n\n\n1. Definitions and Estimators\nLet active return be \\(a_t = r_{p,t} - r_{b,t}\\) for periods \\(t=1,\\dots,T\\).\nThe sample mean and sample variance are \\[\n\\bar a = \\frac{1}{T}\\sum_{t=1}^{T} a_t,\n\\qquad\n\\widehat{\\mathrm{Var}}(a) = \\frac{1}{T-1}\\sum_{t=1}^{T} (a_t - \\bar a)^2.\n\\]\nThe sample Tracking Error at the data‚Äôs native frequency is \\[\n\\widehat{\\mathrm{TE}}_{\\text{period}} = \\sqrt{\\widehat{\\mathrm{Var}}(a)}.\n\\]\nIf the data are daily, people often report the annualized TE by multiplying by \\(\\sqrt{N}\\), where \\(N\\) is periods per year:\n\\[\n\\widehat{\\mathrm{TE}}_{\\text{annual, IID}} = \\widehat{\\mathrm{TE}}_{\\text{daily}} \\sqrt{252}.\n\\]\nThis is correct only under IID (no serial correlation).\n\n\n\n2. Aggregation and the General Variance Formula\nSuppose you aggregate \\(m\\) consecutive periods (e.g., sum daily returns across a month). Define \\[\nS_m = \\sum_{i=1}^{m} a_i.\n\\] In full generality, the variance of \\(S_m\\) depends on the autocovariance function \\(\\gamma(h) = \\mathrm{Cov}(a_t, a_{t+h})\\): \\[\n\\mathrm{Var}(S_m)\n= \\sum_{h=-(m-1)}^{m-1} (m-|h|)\\,\\gamma(h)\n= m\\,\\gamma(0) + 2\\sum_{h=1}^{m-1} (m-h)\\,\\gamma(h).\n\\]\nTherefore, the \\(m\\)-period TE (e.g., ‚Äúmonthly TE‚Äù from daily data with a fixed month length \\(m\\)) is \\[\n\\mathrm{TE}_{(m)} = \\sqrt{\\,\\mathrm{Var}(S_m)\\,}.\n\\]\n\nIID special case\nIf \\(a_t\\) are uncorrelated with variance \\(\\sigma^2\\) (i.e., \\(\\gamma(0)=\\sigma^2\\) and \\(\\gamma(h)=0\\) for \\(h\\neq 0\\)), then \\[\n\\mathrm{Var}(S_m)=m\\sigma^2\n\\quad\\Rightarrow\\quad\n\\mathrm{TE}_{(m)} = \\sqrt{m}\\,\\sigma.\n\\] This gives the usual square-root-of-time scaling: - from daily to monthly (say \\(m\\approx 21\\)): \\(\\mathrm{TE}_{\\text{monthly}}\\approx \\sqrt{m}\\,\\mathrm{TE}_{\\text{daily}}\\), - from daily to annual: \\(\\mathrm{TE}_{\\text{annual}}\\approx \\sqrt{252}\\,\\mathrm{TE}_{\\text{daily}}\\).\n\n\n\n\n3. Annualization with Serial Correlation (Correct Formula)\nLet one year contain \\(N\\) base periods (e.g., \\(N=252\\) trading days).\nThe annual active return is \\(A=\\sum_{t=1}^{N} a_t\\). Its variance is \\[\n\\mathrm{Var}(A)\n= N\\,\\gamma(0) + 2\\sum_{h=1}^{N-1} (N-h)\\,\\gamma(h).\n\\]\nThus the true annualized TE (standard deviation of the annual active return) is \\[\n\\mathrm{TE}_{\\text{annual,true}} = \\sqrt{\\,N\\,\\gamma(0) + 2\\sum_{h=1}^{N-1} (N-h)\\,\\gamma(h)\\,}.\n\\]\n\nUnder IID, \\(\\gamma(h)=0\\) for \\(h\\ge 1\\) and you recover \\(\\sqrt{N}\\,\\sqrt{\\gamma(0)}\\).\n\nWith positive serial correlation (\\(\\gamma(h)&gt;0\\)), annual TE is higher than the IID scaling.\nWith negative serial correlation (mean reversion), annual TE can be lower than IID scaling.\n\n\n\n\n4. AR(1) Closed-Form for \\(m\\)-period TE\nAssume active returns follow the stationary AR(1): \\[\na_t = \\phi a_{t-1} + \\varepsilon_t,\\qquad \\varepsilon_t\\sim \\mathcal{N}(0,\\sigma_\\varepsilon^2),\\quad |\\phi|&lt;1.\n\\]\nThen \\[\n\\gamma(0)=\\frac{\\sigma_\\varepsilon^2}{1-\\phi^2},\n\\qquad\n\\gamma(h)=\\gamma(0)\\,\\phi^{\\,h}\\quad(h\\ge 1).\n\\]\nPlugging into the general formula, \\[\n\\mathrm{Var}(S_m)\n= \\gamma(0)\\Bigg[m + 2\\sum_{h=1}^{m-1} (m-h)\\phi^{\\,h}\\Bigg].\n\\] A convenient algebraic identity for the finite sum is \\[\n\\sum_{h=1}^{m-1} (m-h)\\phi^{\\,h}\n= m\\frac{\\phi - \\phi^{\\,m}}{1-\\phi}\n- \\frac{\\phi\\left(1 - m\\phi^{\\,m-1} + (m-1)\\phi^{\\,m}\\right)}{(1-\\phi)^2}.\n\\]\nTherefore, the \\(m\\)-period TE under AR(1) is \\[\n\\mathrm{TE}_{(m)}^{\\text{AR(1)}}\n= \\sqrt{\\,\\gamma(0)\\Bigg[\nm + 2\\Big(\nm\\frac{\\phi - \\phi^{\\,m}}{1-\\phi}\n- \\frac{\\phi\\left(1 - m\\phi^{\\,m-1} + (m-1)\\phi^{\\,m}\\right)}{(1-\\phi)^2}\n\\Big)\\Bigg]}\\,,\n\\] with \\(\\gamma(0)=\\sigma_\\varepsilon^2/(1-\\phi^2)\\).\nUse cases.\n- To convert daily TE to monthly TE, set \\(m\\) equal to trading days per month (e.g., \\(m\\approx 21\\)).\n- To get annual TE from daily, set \\(m=N\\) (e.g., \\(N=252\\)).\n- This formula collapses to \\(\\sqrt{m}\\,\\sigma\\) when \\(\\phi=0\\) (IID).\n\n\n\n5. Estimating Annualized TE Consistently (Newey‚ÄìWest)\nFrom a daily series \\(\\{a_t\\}_{t=1}^{T}\\), estimate the long-run variance (LRV) \\[\n\\sigma^2_{\\text{LR}} = \\gamma(0) + 2\\sum_{h=1}^{\\infty}\\gamma(h),\n\\] with a Newey‚ÄìWest estimator \\[\n\\widehat{\\sigma}^2_{\\text{LR}}\n= \\hat\\gamma(0) + 2\\sum_{h=1}^{L} w_h\\,\\hat\\gamma(h),\n\\qquad\nw_h = 1 - \\frac{h}{L+1},\n\\] where \\(L\\) is a truncation lag (e.g., \\(L\\approx\\lfloor 4(T/100)^{2/9}\\rfloor\\) or a simpler rule like \\(L\\in[5,25]\\) for daily data).\nThen the consistent annualized TE from daily data is \\[\n\\widehat{\\mathrm{TE}}_{\\text{annual, NW}}\n= \\sqrt{\\,N\\,\\widehat{\\sigma}^2_{\\text{LR}}\\,}.\n\\]\nThis reduces to the IID formula when serial correlation is negligible.\n\n\n\n6. Daily vs Monthly: What You Actually Compare\nTwo common comparisons:\n\nCompute TE on daily data and report \\(\\widehat{\\mathrm{TE}}_{\\text{daily}}\\sqrt{252}\\) (IID) or the NW-consistent version above.\n\nAggregate to monthly returns \\(S_m\\) and compute the standard deviation across months: \\[\n\\widehat{\\mathrm{TE}}_{\\text{monthly}} = \\mathrm{sd}\\{S_{m,j}\\}_{j=1}^{J},\n\\qquad\n\\widehat{\\mathrm{TE}}_{\\text{monthly,ann}} = \\widehat{\\mathrm{TE}}_{\\text{monthly}}\\sqrt{12}.\n\\] These will not necessarily match the daily-based annualization unless returns are IID.\n\n\n\n\n7. Numerical Verification (AR(1) example)\n\nimport numpy as np\n\ndef te_m_ar1(phi, sigma_eps, m):\n    # gamma0 and the finite-sum identity\n    gamma0 = sigma_eps**2 / (1 - phi**2)\n    num = m*((phi - phi**m)/(1 - phi)) - (phi*(1 - m*phi**(m-1) + (m-1)*phi**m))/((1 - phi)**2)\n    var_sm = gamma0 * (m + 2*num)\n    return np.sqrt(var_sm)\n\nphi = 0.2\nsigma_eps = 0.0012\nm_daily_to_month = 21\nm_daily_to_year  = 252\n\nte_month = te_m_ar1(phi, sigma_eps, m_daily_to_month)\nte_year  = te_m_ar1(phi, sigma_eps, m_daily_to_year)\n\n(te_month, te_year)\n\n(np.float64(0.0068053287944080994), np.float64(0.02379206800595526))\n\n\n\n\n\n8. Worked Example: When Monthly TE &lt; Daily-scaled TE\nLet daily active returns be mean-reverting (negative serial correlation), e.g., \\(\\phi=-0.3\\) in AR(1).\nThen monthly aggregation partially cancels day-to-day fluctuations, so you often observe:\n\\[\nTE_{\\text{monthly,ann}} &lt; TE_{\\text{daily}} \\sqrt{252}.\n\\]\nConversely, with trend persistence (\\(\\phi&gt;0\\)), the aggregated variance can rise faster than IID scaling.\n\n\n\n9. Practical Guidance\n\nAlways state the sampling frequency used to compute TE.\n\nIf you report annualized TE from daily data, prefer the Newey‚ÄìWest consistent estimator when autocorrelation is present.\n\nIf comparing daily-based vs monthly-based TE, remember they are different estimators of different objects (sum of daily vs one-step monthly), which coincide only under IID.\n\nFor model-based conversion, the AR(1) closed form is a simple and effective approximation.\n\n\n\n\n10. References (selected)\n\nGrinold, R. C., & Kahn, R. N. Active Portfolio Management (2nd ed.).\n\nNewey, W. K., & West, K. D. (1987). A Simple, Positive Semi-definite, Heteroskedasticity and Autocorrelation Consistent Covariance Matrix.\n\nLo, A. W. (2002). The Statistics of Sharpe Ratios (serial correlation & scaling ideas apply to volatility and TE).\n\nCFA Institute curriculum: Tracking error, active risk, and information ratio.\n\n\n\n\nTry It Live\n\nüßÆ Interactive App: tracking-error-lab.streamlit.app\n\nüíª Source Code: github.com/TejasViswa/tracking-error-lab"
  }
]